{"ast":null,"code":"import _slicedToArray from \"/Users/tristanwong/repos/react/dojo-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState, useEffect } from \"react\";\n\nvar useFetch = function useFetch(url) {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isPending = _useState4[0],\n      setIsPending = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      error = _useState6[0],\n      setError = _useState6[1];\n\n  useEffect(function () {\n    setTimeout(function () {\n      fetch(url).then(function (res) {\n        if (!res.ok) {\n          throw Error('could not fetch data for that resource');\n        }\n\n        return res.json();\n      }).then(function (data) {\n        console.log(data);\n        setData(data);\n        setIsPending(false);\n        setError(null);\n      }).catch(function (err) {\n        setIsPending(false);\n        setError(err.message);\n      });\n    }, 1000);\n  }, [url]);\n  return {\n    data: data,\n    isPending: isPending,\n    error: error\n  };\n};\n\nexport default useFetch;","map":{"version":3,"names":["useState","useEffect","useFetch","url","data","setData","isPending","setIsPending","error","setError","setTimeout","fetch","then","res","ok","Error","json","console","log","catch","err","message"],"sources":["/Users/tristanwong/repos/react/dojo-blog/src/useFetch.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\n\nconst useFetch = (url) => {\n\n    const [data, setData] = useState(null);\n    const [isPending, setIsPending] = useState(true);\n    const [error, setError] = useState(null);\n\n    useEffect(() => {\n        setTimeout(() => {\n            fetch(url)\n            .then(res => {\n                if(!res.ok){\n                    throw Error('could not fetch data for that resource');\n                }\n                return res.json();\n            })\n            .then((data) => {\n                console.log(data);\n                setData(data);\n                setIsPending(false);\n                setError(null);\n            })\n            .catch(err => {\n                setIsPending(false);\n                setError(err.message);\n            })\n        }, 1000);\n    }, [url]);\n\n    return { data, isPending, error }\n}\n\nexport default useFetch;"],"mappings":";AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,GAAD,EAAS;EAAA,gBAEEH,QAAQ,CAAC,IAAD,CAFV;EAAA;EAAA,IAEfI,IAFe;EAAA,IAETC,OAFS;;EAAA,iBAGYL,QAAQ,CAAC,IAAD,CAHpB;EAAA;EAAA,IAGfM,SAHe;EAAA,IAGJC,YAHI;;EAAA,iBAIIP,QAAQ,CAAC,IAAD,CAJZ;EAAA;EAAA,IAIfQ,KAJe;EAAA,IAIRC,QAJQ;;EAMtBR,SAAS,CAAC,YAAM;IACZS,UAAU,CAAC,YAAM;MACbC,KAAK,CAACR,GAAD,CAAL,CACCS,IADD,CACM,UAAAC,GAAG,EAAI;QACT,IAAG,CAACA,GAAG,CAACC,EAAR,EAAW;UACP,MAAMC,KAAK,CAAC,wCAAD,CAAX;QACH;;QACD,OAAOF,GAAG,CAACG,IAAJ,EAAP;MACH,CAND,EAOCJ,IAPD,CAOM,UAACR,IAAD,EAAU;QACZa,OAAO,CAACC,GAAR,CAAYd,IAAZ;QACAC,OAAO,CAACD,IAAD,CAAP;QACAG,YAAY,CAAC,KAAD,CAAZ;QACAE,QAAQ,CAAC,IAAD,CAAR;MACH,CAZD,EAaCU,KAbD,CAaO,UAAAC,GAAG,EAAI;QACVb,YAAY,CAAC,KAAD,CAAZ;QACAE,QAAQ,CAACW,GAAG,CAACC,OAAL,CAAR;MACH,CAhBD;IAiBH,CAlBS,EAkBP,IAlBO,CAAV;EAmBH,CApBQ,EAoBN,CAAClB,GAAD,CApBM,CAAT;EAsBA,OAAO;IAAEC,IAAI,EAAJA,IAAF;IAAQE,SAAS,EAATA,SAAR;IAAmBE,KAAK,EAALA;EAAnB,CAAP;AACH,CA7BD;;AA+BA,eAAeN,QAAf"},"metadata":{},"sourceType":"module"}